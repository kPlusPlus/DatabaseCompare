 nvarchar), n''),10) )select @nvpnb = replace(@nvpnb, n'$(doc)', isnull( @nvdocfull, n''))if (@ncmodel = n'00') goto lreturnif (@ncmodel = n'01') beginselect @nvcntrl = [dbo].[nvmodulo11]( replace(@nvpnb, n'$(cntrl)', n'') )select @nvpnb = replace(@nvpnb, n'$(cntrl)', @nvcntrl)goto lreturnendelse if (@ncmodel = n'55')beginselect @nvpnbtmp = replace(@nvpnb, n'$(cntrl)', n'') + '-'select @nvpnbtmp = substring(@nvpnbtmp, 1, charindex ('-', @nvpnbtmp) - 1)select @nvcntrl = [dbo].[nvmodulo11](@nvpnbtmp)select @nvpnb = replace(@nvpnb, n'$(cntrl)', @nvcntrl)goto lreturnendelse begingoto lreturnendlunknownmodel:return ' 'lreturn:return isnull(rtrim(left(@nvpnb, 20)),' ')end