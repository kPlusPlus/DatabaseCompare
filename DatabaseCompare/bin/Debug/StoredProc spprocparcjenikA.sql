
BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 

BEGIN 
SET NOCOUNT ON

Ijenik with(nolock)
			WHERE Sifra=@siCjenik AND Stop < GETDATE())
	BEGIN
        		RAISERROR 44445 '

PRI DATE !

Origin: spProcParCjenik'
        		RETURN 
	END  

SET XACT_ABORT ON
BEGIN TRAN
IF @siParGrupa > 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik
		and ParGrupa = @siParGrupa
END

IF @siParGrupa = 0 
BEGIN
	UPDATE dbo.Partner
	SET jenik
	FROM dbo.Partner
	INNER JOIN dbo.PartnerStart with(nolock) on dbo.Partner.PartnerID = dbo.PartnerStart.ID
	WHERE 	formalni= @btFormalni 
		and osoba = @btOsoba 
		and radnik = @btRadnik 
		and suradnik = @btSuradnik

END
COMMIT TRAN
SET XA

END 
